From 3197bb2224f4989564f29f536549f56977b7ab61 Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@solus-project.com>
Date: Sun, 12 Jun 2016 22:55:26 +0100
Subject: [PATCH 75/85] Rebutcher things to support my local install buggery

Signed-off-by: Ikey Doherty <ikey@solus-project.com>
---
 os_installer2/mainwindow.py     | 23 +++++++++++------------
 os_installer2/pages/progress.py |  3 +--
 2 files changed, 12 insertions(+), 14 deletions(-)

diff --git a/os_installer2/mainwindow.py b/os_installer2/mainwindow.py
index ce1cee1..7fb3358 100644
--- a/os_installer2/mainwindow.py
+++ b/os_installer2/mainwindow.py
@@ -15,17 +15,17 @@ from .diskman import DiskManager
 from .permissions import PermissionsManager
 from .pages.welcome import InstallerWelcomePage
 from .pages.language import InstallerLanguagePage
-# from .pages.location import InstallerLocationPage
-# from .pages.geoip import InstallerGeoipPage
-# from .pages.keyboard import InstallerKeyboardPage
-# from .pages.timezone import InstallerTimezonePage
+from .pages.location import InstallerLocationPage
+from .pages.geoip import InstallerGeoipPage
+from .pages.keyboard import InstallerKeyboardPage
+from .pages.timezone import InstallerTimezonePage
 from .pages.disk_location import InstallerDiskLocationPage
 from .pages.partitioning import InstallerPartitioningPage
 from .pages.system import InstallerSystemPage
-# from .pages.users import InstallerUsersPage
+from .pages.users import InstallerUsersPage
 from .pages.summary import InstallerSummaryPage
-# from .pages.progress import InstallerProgressPage
-# from .pages.complete import InstallationCompletePage
+from .pages.progress import InstallerProgressPage
+from .pages.complete import InstallationCompletePage
 import sys
 import threading
 import traceback
@@ -158,18 +158,17 @@ class MainWindow(Gtk.ApplicationWindow):
         # Load other pages here into installer_stack
         try:
             self.add_installer_page(InstallerLanguagePage())
-            """
             self.add_installer_page(InstallerLocationPage())
             self.add_installer_page(InstallerGeoipPage())
             self.add_installer_page(InstallerKeyboardPage())
-            self.add_installer_page(InstallerTimezonePage())"""
+            self.add_installer_page(InstallerTimezonePage())
             self.add_installer_page(InstallerDiskLocationPage())
             self.add_installer_page(InstallerPartitioningPage())
             self.add_installer_page(InstallerSystemPage())
-            """self.add_installer_page(InstallerUsersPage())"""
+            self.add_installer_page(InstallerUsersPage())
             self.add_installer_page(InstallerSummaryPage())
-            """self.add_installer_page(InstallerProgressPage())
-            self.add_installer_page(InstallationCompletePage())"""
+            self.add_installer_page(InstallerProgressPage())
+            self.add_installer_page(InstallationCompletePage())
         except Exception as e:
             print("Fatal error during startup: {}".format(e))
             traceback.print_exc(file=sys.stderr)
diff --git a/os_installer2/pages/progress.py b/os_installer2/pages/progress.py
index e25e373..4bb5206 100644
--- a/os_installer2/pages/progress.py
+++ b/os_installer2/pages/progress.py
@@ -31,7 +31,7 @@ from os_installer2.postinstall import PostInstallUsers
 from os_installer2.postinstall import PostInstallHostname
 from os_installer2.postinstall import PostInstallDiskOptimize
 from os_installer2.postinstall import PostInstallFstab
-from os_installer2.postinstall import PostInstallBootloader
+# from os_installer2.postinstall import PostInstallBootloader
 import os
 import stat
 import parted
@@ -116,7 +116,6 @@ class InstallerProgressPage(BasePage):
             PostInstallHostname,
             PostInstallDiskOptimize,
             PostInstallFstab,
-            PostInstallBootloader
         ]
         # Active postinstalls..
         self.post_installs = []
-- 
2.8.3

