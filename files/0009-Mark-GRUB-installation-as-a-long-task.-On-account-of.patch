From dc300123ad3b071eda312fe58807e29ea6a84eda Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@solus-project.com>
Date: Fri, 10 Jun 2016 23:56:20 +0100
Subject: [PATCH 09/29] Mark GRUB installation as a long task. On account of it
 is. Remove debug too

Signed-off-by: Ikey Doherty <ikey@solus-project.com>
---
 os_installer2/postinstall.py | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/os_installer2/postinstall.py b/os_installer2/postinstall.py
index b9ed45b..a4ae5e9 100644
--- a/os_installer2/postinstall.py
+++ b/os_installer2/postinstall.py
@@ -590,12 +590,15 @@ class PostInstallBootloader(PostInstallStep):
             return self.apply_uefi()
         return self.apply_bios()
 
+    def is_long_step(self):
+        """ UEFI no, GRUB yes. """
+        return not self.info.strategy.is_uefi()
+
     def apply_bios(self):
         """ Take the BIOS approach to bootloader configuration """
         if not self.info.bootloader_install:
             return True
         cmd = "grub-install --force \"{}\"".format(self.info.bootloader_sz)
-        print("DEBUG: GRUB: {}".format(cmd))
         if not self.run_in_chroot(cmd):
             self.set_errors("Failed to install GRUB bootloader")
             return False
-- 
2.8.3

