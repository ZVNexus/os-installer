From 3df2917802097ae10309ff97b078131319c96bda Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@solus-project.com>
Date: Sat, 11 Jun 2016 21:58:28 +0100
Subject: [PATCH 32/34] Stop everything from wanting a controlling terminal.

Signed-off-by: Ikey Doherty <ikey@solus-project.com>
---
 dist/os-installer-wrapper | 2 +-
 os_installer2/diskops.py  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/dist/os-installer-wrapper b/dist/os-installer-wrapper
index 91ec0df..21368d0 100644
--- a/dist/os-installer-wrapper
+++ b/dist/os-installer-wrapper
@@ -1,3 +1,3 @@
 #!/bin/bash
-exec pkexec /usr/bin/os-installer-gtk
+nohup pkexec /usr/bin/os-installer-gtk
 
diff --git a/os_installer2/diskops.py b/os_installer2/diskops.py
index beb3048..b379fb2 100644
--- a/os_installer2/diskops.py
+++ b/os_installer2/diskops.py
@@ -344,7 +344,7 @@ class DiskOpResizeOS(BaseDiskOp):
                     self.new_part_off = self.part.geometry.end
                     return True
                 # check it first
-                cmd1 = "/sbin/e2fsck -f {}".format(self.part.path)
+                cmd1 = "/sbin/e2fsck -f -y {}".format(self.part.path)
                 try:
                     subprocess.check_output(cmd1, shell=True,
                                             stderr=subprocess.STDOUT)
-- 
2.8.3

