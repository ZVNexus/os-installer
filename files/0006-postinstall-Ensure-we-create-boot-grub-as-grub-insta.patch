From cf884a8ede5ba70c2208f47dd6ac63a463ba6865 Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@solus-project.com>
Date: Fri, 14 Oct 2016 06:48:49 +0100
Subject: [PATCH 06/12] postinstall: Ensure we create /boot/grub as
 grub-install hasn't been done

Signed-off-by: Ikey Doherty <ikey@solus-project.com>
---
 os_installer2/postinstall.py | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/os_installer2/postinstall.py b/os_installer2/postinstall.py
index cbe4bf2..a35bdfb 100644
--- a/os_installer2/postinstall.py
+++ b/os_installer2/postinstall.py
@@ -727,7 +727,9 @@ class PostInstallBootloader(PostInstallStep):
             spath = "/usr/share/backgrounds/splash.tga"
             tt = self.installer.get_installer_target_filesystem()
             tpath = "{}/boot/grub/splash.tga".format(tt)
+            dpath = os.path.dirname(tpath)
             try:
+                os.makedirs(dpath, 0o0755)
                 shutil.copy(spath, tpath)
             except Exception as e:
                 print(e)
-- 
2.10.1

